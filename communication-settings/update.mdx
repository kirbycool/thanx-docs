---
title: "Update Communication Settings"
api: "PATCH /communication_settings/{id}"
description:
  "This endpoint allows the update of a user's notification / email settings."
---

### Parameters

<ParamField body="id" type="string">
  The ID of the settings record
</ParamField>

<ParamField body="reward_earned" type="hash">
  Settings for when a user earns a loyalty reward

  <Expandable title="reward_earned">
    <ParamField body="notification" type="boolean">
      app notification setting
    </ParamField>

    <ParamField body="email" type="boolean">
      email setting
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="reward_unused" type="hash">
  Settings for when a user has an unused reward

  <Expandable title="reward_unused">
    <ParamField body="notification" type="boolean">
      app notification setting
    </ParamField>

    <ParamField body="email" type="boolean">
      email setting
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="reward_progress" type="hash">
  Settings for when a user earns loyalty progress

  <Expandable title="reward_progress">
    <ParamField body="notification" type="boolean">
      app notification setting
    </ParamField>

    <ParamField body="email" type="boolean">
      email setting
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="reward_offer" type="hash">
  Settings for when a merchant sends an offer

  <Expandable title="reward_offer">
    <ParamField body="notification" type="boolean">
      app notification setting
    </ParamField>

    <ParamField body="email" type="boolean">
      email setting
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="feedback_available" type="hash">
  Settings for when a user has the opportunity to leave feedback for a purchase

  <Expandable title="feedback_available">
    <ParamField body="notification" type="boolean">
      app notification setting
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="marketing_general" type="hash">
  Settings for when a merchant sends general marketing

  <Expandable title="marketing_general">
    <ParamField body="email" type="boolean">
      email setting
    </ParamField>
  </Expandable>
</ParamField>

### Response

<ResponseField name="id" type="string">
  The ID of the settings record
</ResponseField>

<ResponseField name="merchant_id" type="string">
  The ID of the merchant
</ResponseField>

<ResponseField name="user_id" type="string">
  The ID of the user
</ResponseField>

<ResponseField name="reward_earned" type="hash">
  Settings for when a user earns a loyalty reward

  <Expandable title="reward_earned">
    <ResponseField name="notification" type="boolean">
      app notification setting
    </ResponseField>

    <ResponseField name="email" type="boolean">
      email setting
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="reward_unused" type="hash">
  Settings for when a user has an unused reward

  <Expandable title="reward_unused">
    <ResponseField name="notification" type="boolean">
      app notification setting
    </ResponseField>

    <ResponseField name="email" type="boolean">
      email setting
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="reward_progress" type="hash">
  Settings for when a user earns loyalty progress

  <Expandable title="reward_progress">
    <ResponseField name="notification" type="boolean">
      app notification setting
    </ResponseField>

    <ResponseField name="email" type="boolean">
      email setting
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="reward_offer" type="hash">
  Settings for when a merchant sends an offer

  <Expandable title="reward_offer">
    <ResponseField name="notification" type="boolean">
      app notification setting
    </ResponseField>

    <ResponseField name="email" type="boolean">
      email setting
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="feedback_available" type="hash">
  Settings for when a user has the opportunity to leave feedback for a purchase

  <Expandable title="feedback_available">
    <ResponseField name="notification" type="boolean">
      app notification setting
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="marketing_general" type="hash">
  Settings for when a merchant sends general marketing

  <Expandable title="marketing_general">
    <ResponseField name="email" type="boolean">
      email setting
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash
curl https://api.thanxsandbox.com/communication_settings/woerihfslkwer \
  -X PATCH \
  $AUTH_HEADERS
  -d '{
    "communication_settings": {
      "reward_earned": {
        "notification": false,
        "email": false
      },
      "feedback_available": {
        "notification": true
      }
    }
  }'
```

</RequestExample>

<ResponseExample>

```json
{
  "settings": [
    {
      "id": "weoruoisdhf",
      "merchant_id": "owierywtwt",
      "user_id": "woerushfwe",
      "reward_earned": {
        "notification": true,
        "email": true
      },
      "reward_unused": {
        "notification": true,
        "email": true
      },
      "reward_progress": {
        "notification": true,
        "email": true
      },
      "reward_offer": {
        "notification": true,
        "email": true
      },
      "feedback_available": {
        "notification": true
      },
      "marketing_general": {
        "email": true
      }
    }
  ]
}
```

</ResponseExample>
